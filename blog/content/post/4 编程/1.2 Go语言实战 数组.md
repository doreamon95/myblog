---
title: "Go语言实战 读书笔记 （一）数组"
tags: ["go"]
categories: ["go"]
date: "2018-07-02T21:00:00+08:00"
url: "/2018/07/02/go-inaction-read-1.html"
---
前前后后摸索Go已经有一阵子了，由于这几个月没码代码，生疏了许多。重拾书本，便于后期查阅。

Go 语言有 3 种数据结构可以让用户管理集合数据：数组、切片和映射，今天学习的便是数组

在 Go 语言里，数组是一个长度固定的数据类型，用于存储一段具有相同的类型的元素的连续块。数组存储的类型可以是内置类型，如整型或者字符串，也可以是某种结构类型。 

## 如何声明

声明一个数组，指定数据类型+存储数量，未初始化数据时对应类型的零值。

```
var a [5]int   // 指明存储数据类型int，存储数量5，值为5个0
```

如果想在创建数组的时候直接初始化

```
a:=[5]int{1,2,3,4,5} // := 表示创建并初始化，适用于Go中所有数据类型
```

如果想部分赋值

```
a:=[5]int{0,1,0,4,0}
// 等价于
a:=[5]int{1:1,3:4}
```

如果想在初始化的时候不指定大小，利用数组的推导

```
a:=[...]int{1,2,3,4,5} # ... Go推导长度
```

如果是指针数组，注意*[5]int是数组的指针

```
a := [5]*int(2:new(int), 3:new(int))
*array[2] = 9
```

## 如何使用

如果想要访问数组

```
a:=[5]int{1:1,3:4}
fmt.Printf("%d",array[1]) // 利用[] 索引来访问
```

如果想要修改数组某个元素

```
a[1] = 5
```

如果想要打印数组，可以省略打印i，`_`即可

```
for i,v := range a {
	fmt.Printf("索引%d:值%d\n",i,v)
}
```

如果不同类型数组想要相互赋值，按规定只有同类型数组（长度一样，元素类型一样）可相互赋值。

```
a:=[5]int{1:1,3:4}
var b [5]int = a  // if b [6]int, error
```

如果函数间传递数组

```
a := [5]itn(2:3,3:4) 

func add(a [5]int)  //不会改变原来数组  复制
func add(a *[5]int) //指针会改变原来数组值 引用
```

